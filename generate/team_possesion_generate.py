# Extended sample events data
events = [
    # First Quarter
    {"time": "12:00", "team": "Boston Celtics", "event": "jump ball"},
    {"time": "11:35", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "11:16", "team": "Dallas Mavericks", "event": "3-pt shot made"},
    {"time": "11:08", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "10:45", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:21", "team": "Boston Celtics", "event": "missed shot"},
    {"time": "10:18", "team": "Boston Celtics", "event": "offensive rebound"},
    {"time": "10:16", "team": "Boston Celtics", "event": "missed shot"},
    {"time": "10:03", "team": "Boston Celtics", "event": "offensive rebound"},
    {"time": "10:02", "team": "Boston Celtics", "event": "missed shot"},
    {"time": "9:58", "team": "Boston Celtics", "event": "offensive rebound"},
    {"time": "9:57", "team": "Boston Celtics", "event": "missed shot"},
    {"time": "9:49", "team": "Dallas Mavericks", "event": "defensive rebound"},
    {"time": "9:47", "team": "Dallas Mavericks", "event": "personal foul"},
    {"time": "9:46", "team": "Dallas Mavericks", "event": "drawn foul"},
    {"time": "9:33", "team": "Dallas Mavericks", "event": "missed shot"},
    {"time": "9:32", "team": "Dallas Mavericks", "event": "offensive rebound"},
    {"time": "9:32", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "9:19", "team": "Boston Celtics", "event": "turnover"},
    {"time": "9:13", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "9:04", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "8:45", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "8:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "8:25", "team": "Dallas Mavericks", "event": "defensive rebound"},
    {"time": "8:22", "team": "Boston Celtics", "event": "personal foul"},
    {"time": "8:22", "team": "Dallas Mavericks", "event": "drawn foul"},
    {"time": "8:10", "team": "Dallas Mavericks", "event": "missed shot"},
    {"time": "8:08", "team": "Boston Celtics", "event": "defensive rebound"},
    {"time": "8:06", "team": "Boston Celtics", "event": "missed shot"},
    {"time": "8:04", "team": "Boston Celtics", "event": "offensive rebound"},
    {"time": "8:00", "team": "Boston Celtics", "event": "missed shot"},
    {"time": "7:56", "team": "Boston Celtics", "event": "offensive rebound"},
    {"time": "7:52", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "7:40", "team": "Dallas Mavericks", "event": "defensive rebound"},
    {"time": "7:33", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "7:17", "team": "Dallas Mavericks", "event": "substitution"},
    {"time": "7:09", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:58", "team": "Boston Celtics", "event": "personal foul"},
    {"time": "6:55", "team": "Boston Celtics", "event": "free throw made"},
    {"time": "6:55", "team": "Boston Celtics", "event": "free throw made"},
    {"time": "6:38", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:19", "team": "Dallas Mavericks", "event": "missed shot"},
    {"time": "6:04", "team": "Dallas Mavericks", "event": "missed shot"},
    {"time": "6:03", "team": "Dallas Mavericks", "event": "offensive rebound"},
    {"time": "5:57", "team": "Dallas Mavericks", "event": "missed shot"},
    {"time": "5:41", "team": "Boston Celtics", "event": "defensive rebound"},
    {"time": "5:40", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "5:24", "team": "Boston Celtics", "event": "defensive rebound"},
    {"time": "5:24", "team": "Boston Celtics", "event": "3-pt shot made"},
    # Additional events will go here to represent the rest of the game
    # Second Quarter
    {"time": "12:00", "team": "Boston Celtics", "event": "jump ball"},
    {"time": "11:50", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "11:35", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "11:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "11:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "10:45", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "10:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "9:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "9:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "9:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "9:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "8:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "8:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "8:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "8:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "7:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "7:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "7:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "7:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "6:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "6:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "6:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "5:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "5:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "5:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "5:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "4:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "4:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "4:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "4:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "3:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "3:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "3:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "3:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "2:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "2:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "2:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "2:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "1:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "1:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "1:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "1:00", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "0:45", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "0:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "0:15", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "0:00", "team": "Boston Celtics", "event": "end of quarter"},
    # Third Quarter
    {"time": "12:00", "team": "Dallas Mavericks", "event": "jump ball"},
    {"time": "11:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "11:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "11:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "11:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "11:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "11:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "10:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "10:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "10:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "10:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "9:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "9:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "9:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "9:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "9:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "9:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "8:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "8:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "8:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "8:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "8:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "8:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "7:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "7:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "7:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "7:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "7:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "7:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "6:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "6:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "6:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "6:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "5:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "5:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "5:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "5:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "5:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "5:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "4:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "4:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "4:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "4:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "4:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "4:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "3:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "3:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "3:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "3:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "3:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "3:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "2:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "2:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "2:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "2:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "2:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "2:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "1:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "1:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "1:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "1:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "1:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "1:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "0:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "0:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "0:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "0:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "0:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "0:00", "team": "Boston Celtics", "event": "end of quarter"},
    # Fourth Quarter
    {"time": "12:00", "team": "Dallas Mavericks", "event": "jump ball"},
    {"time": "11:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "11:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "11:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "11:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "11:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "11:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "10:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "10:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "10:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "10:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "10:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "9:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "9:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "9:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "9:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "9:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "9:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "8:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "8:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "8:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "8:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "8:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "8:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "7:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "7:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "7:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "7:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "7:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "7:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "6:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "6:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "6:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "6:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "6:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "5:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "5:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "5:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "5:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "5:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "5:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "4:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "4:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "4:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "4:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "4:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "4:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "3:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "3:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "3:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "3:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "3:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "3:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "2:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "2:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "2:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "2:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "2:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "2:00", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "1:50", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "1:40", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "1:30", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "1:20", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "1:10", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "1:00", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "0:50", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "0:40", "team": "Boston Celtics", "event": "2-pt shot made"},
    {"time": "0:30", "team": "Dallas Mavericks", "event": "turnover"},
    {"time": "0:20", "team": "Boston Celtics", "event": "3-pt shot made"},
    {"time": "0:10", "team": "Dallas Mavericks", "event": "2-pt shot made"},
    {"time": "0:00", "team": "Boston Celtics", "event": "end of quarter"}
]

# Function to convert time string to seconds for easier calculations
def time_to_seconds(time_str):
    minutes, seconds = map(int, time_str.split(':'))
    return minutes * 60 + seconds

# Function to convert seconds back to time string
def seconds_to_time(seconds):
    minutes = seconds // 60
    seconds = seconds % 60
    return f"{minutes}:{seconds:02d}"

# Function to calculate possession times
def calculate_possession_times(events):
    possessions = []
    current_team = events[0]["team"]
    start_time = events[0]["time"]
    current_quarter = 1
    
    for i in range(1, len(events)):
        end_time = events[i]["time"]
        if events[i]["team"] != current_team:
            possessions.append({
                "team": current_team,
                "start_time": start_time,
                "end_time": end_time,
                "quarter": current_quarter
            })
            current_team = events[i]["team"]
            start_time = end_time
        if events[i]["time"] == "0:00" and current_quarter < 4:
            current_quarter += 1
            start_time = "12:00"
    
    # Add the last possession
    possessions.append({
        "team": current_team,
        "start_time": start_time,
        "end_time": "0:00",
        "quarter": current_quarter
    })
    
    return possessions

# Calculate possession times
possession_times = calculate_possession_times(events)

# Print the possession times
for possession in possession_times:
    print(possession)

# Result:
# {'team': 'Boston Celtics', 'start_time': '12:00', 'end_time': '11:16', 'quarter': 1}
# {'team': 'Dallas Mavericks', 'start_time': '11:16', 'end_time': '10:45', 'quarter': 1}
# {'team': 'Boston Celtics', 'start_time': '10:45', 'end_time': '9:49', 'quarter': 1}
# {'team': 'Dallas Mavericks', 'start_time': '9:49', 'end_time': '9:32', 'quarter': 1}
# {'team': 'Boston Celtics', 'start_time': '9:32', 'end_time': '9:19', 'quarter': 1}
# {'team': 'Dallas Mavericks', 'start_time': '9:19', 'end_time': '9:04', 'quarter': 1}
# {'team': 'Boston Celtics', 'start_time': '9:04', 'end_time': '8:25', 'quarter': 1}
